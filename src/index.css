@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Impexo — palette luxe (équivalents HSL) */
    --impexo-black: 0 0% 0%; /* #000000 */
    --impexo-white: 0 0% 100%; /* #FFFFFF */
    --impexo-gray-50: 240 11% 97%; /* #F5F5F7 */
    --impexo-gray-100: 240 6% 90%; /* #E5E5E7 */
    --impexo-silver: 0 0% 75%; /* #C0C0C0 */

    --background: var(--impexo-white);
    --foreground: var(--impexo-black);

    --card: var(--impexo-white);
    --card-foreground: var(--impexo-black);

    --popover: var(--impexo-white);
    --popover-foreground: var(--impexo-black);

    --primary: var(--impexo-black);
    --primary-foreground: var(--impexo-white);

    --secondary: var(--impexo-gray-50);
    --secondary-foreground: var(--impexo-black);

    --muted: var(--impexo-gray-50);
    --muted-foreground: 0 0% 35%;

    --accent: var(--impexo-gray-50);
    --accent-foreground: var(--impexo-black);

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: var(--impexo-gray-100);
    --input: var(--impexo-gray-100);
    --ring: var(--impexo-silver);

    --radius: 1rem;

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 240 5.3% 26.1%;

    --sidebar-primary: 240 5.9% 10%;

    --sidebar-primary-foreground: 0 0% 98%;

    --sidebar-accent: 240 4.8% 95.9%;

    --sidebar-accent-foreground: 240 5.9% 10%;

    --sidebar-border: 220 13% 91%;

    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
    overflow-x: clip;
  }

  body {
    @apply bg-background text-foreground;
    overflow-x: clip;
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text",
      "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Ambiance plus premium (plus “deep”, moins “plat”) */
    background-image:
      radial-gradient(1100px 650px at 72% -12%, hsla(0, 0%, 0%, 0.07), transparent 62%),
      radial-gradient(900px 520px at -12% 24%, hsla(0, 0%, 0%, 0.05), transparent 58%),
      radial-gradient(700px 380px at 50% 110%, hsla(0, 0%, 0%, 0.04), transparent 55%),
      linear-gradient(180deg, hsl(var(--impexo-white)) 0%, hsl(var(--impexo-gray-50)) 100%);
  }

  ::selection {
    background: hsla(0, 0%, 0%, 0.9);
    color: #ffffff;
  }
}

@layer utilities {
  .impexo-grid {
    background-image: radial-gradient(closest-side, hsl(var(--impexo-gray-100)) 0, transparent 70%);
    background-size: 24px 24px;
    background-position: 0 0;
    opacity: 0.25;
  }

  .impexo-glow {
    box-shadow: 0 10px 30px hsla(0, 0%, 0%, 0.08), 0 1px 0 hsla(0, 0%, 100%, 0.65) inset;
  }

  .impexo-hairline {
    box-shadow: 0 0 0 0.5px hsl(var(--border));
  }

  .impexo-surface {
    background: hsl(var(--impexo-white) / 0.82);
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
    box-shadow:
      0 22px 50px -35px hsla(0, 0%, 0%, 0.40),
      0 1px 0 hsla(0, 0%, 100%, 0.70) inset;
  }

  .impexo-studio {
    /* Fond "studio" mais uniforme: laisse le fond du site transparaître
       (évite l'effet "bloc blanc" visible sur les fonds gris). */
    background:
      radial-gradient(90% 70% at 18% 10%, rgba(0, 0, 0, 0.03), transparent 62%),
      radial-gradient(80% 65% at 85% 18%, rgba(0, 0, 0, 0.02), transparent 64%),
      radial-gradient(70% 55% at 35% 85%, rgba(255, 255, 255, 0.35), transparent 58%);
  }

  .impexo-product-shadow {
    /* Ombre + léger halo pour intégrer le visuel (sans effet "découpé") */
    filter:
      drop-shadow(0 18px 30px rgba(0, 0, 0, 0.14))
      drop-shadow(0 0 22px rgba(255, 255, 255, 0.10));
  }

  .impexo-image-fade {
    /* Fond blanc interne -> bords plus doux (compat webkit + standard) */
    -webkit-mask-image: radial-gradient(closest-side, rgba(0, 0, 0, 1) 72%, rgba(0, 0, 0, 0) 100%);
    mask-image: radial-gradient(closest-side, rgba(0, 0, 0, 1) 72%, rgba(0, 0, 0, 0) 100%);
  }

  .impexo-cutout {
    /* Atténue les fonds blancs des JPG en les mélangeant au fond.
       Très efficace pour supprimer l'effet "carré blanc" sans détourage. */
    mix-blend-mode: multiply;
    filter: saturate(1.02) contrast(1.02);
  }

  .impexo-sheen {
    position: relative;
    overflow: hidden;
  }
  .impexo-sheen::after {
    content: "";
    position: absolute;
    inset: -40% -40%;
    background: linear-gradient(115deg, transparent 35%, rgba(255, 255, 255, 0.20) 48%, transparent 60%);
    transform: translateX(-35%) rotate(12deg);
    opacity: 0;
    transition: transform 900ms cubic-bezier(0.22, 1, 0.36, 1), opacity 350ms ease-out;
    pointer-events: none;
  }
  .impexo-sheen:hover::after {
    transform: translateX(35%) rotate(12deg);
    opacity: 1;
  }
}

@media (prefers-reduced-motion: reduce) {
  * {
    scroll-behavior: auto !important;
  }
  .impexo-sheen::after {
    transition: none !important;
  }
}
